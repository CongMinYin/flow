<mxfile host="app.diagrams.net" modified="2022-09-30T06:59:03.120Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.53" etag="Jl--pbKrp9WZ3oPU9Qi_" version="20.3.7" type="github" pages="4">
  <diagram id="xGhGwjkrp60PI3IrgOzS" name="containerd">
    <mxGraphModel dx="-15" dy="430" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-1" target="VnnF2bQGoL9Erzhlx2XS-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-1" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;var&lt;/span&gt; &lt;span style=&quot;font-size: 20px;&quot;&gt;pullCommand&lt;/span&gt; = cli.Command{&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3204" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-2" target="VnnF2bQGoL9Erzhlx2XS-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-2" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;img&lt;/span&gt;, &lt;span style=&quot;font-size: 20px;&quot;&gt;err&lt;/span&gt; := content.&lt;span style=&quot;font-size: 20px;&quot;&gt;Fetch&lt;/span&gt;(ctx, client, ref, config)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3114" y="200" width="440" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-3" target="VnnF2bQGoL9Erzhlx2XS-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-3" target="VnnF2bQGoL9Erzhlx2XS-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-3" target="VnnF2bQGoL9Erzhlx2XS-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="445ApZD_RgdgtJku94gu-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-3" target="445ApZD_RgdgtJku94gu-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-3" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;func&lt;/span&gt; (c *Client) &lt;span style=&quot;font-size: 20px;&quot;&gt;fetch&lt;/span&gt;(ctx context.Context, rCtx *RemoteContext, ref &lt;span style=&quot;font-size: 20px;&quot;&gt;string&lt;/span&gt;, limit &lt;span style=&quot;font-size: 20px;&quot;&gt;int&lt;/span&gt;) (images.Image, &lt;span style=&quot;font-size: 20px;&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3071" y="800" width="526" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-4" target="VnnF2bQGoL9Erzhlx2XS-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-4" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;fetcher&lt;/span&gt;, &lt;span style=&quot;font-size: 20px;&quot;&gt;err&lt;/span&gt; := rCtx.Resolver.&lt;span style=&quot;font-size: 20px;&quot;&gt;Fetcher&lt;/span&gt;(ctx, name)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3106" y="920" width="456" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-6" target="VnnF2bQGoL9Erzhlx2XS-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-6" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;font-size: 20px;&quot;&gt;Fetch&lt;/span&gt;(ctx context.Context, client *containerd.Client, ref &lt;span style=&quot;font-size: 20px;&quot;&gt;string&lt;/span&gt;, config *FetchConfig) (images.Image, &lt;span style=&quot;font-size: 20px;&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3056" y="320" width="556" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-7" target="VnnF2bQGoL9Erzhlx2XS-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-7" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;img&lt;/span&gt;, &lt;span style=&quot;font-size: 20px;&quot;&gt;err&lt;/span&gt; := client.&lt;span style=&quot;font-size: 20px;&quot;&gt;Fetch&lt;/span&gt;(pctx, ref, opts...)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3137" y="440" width="394" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-8" target="VnnF2bQGoL9Erzhlx2XS-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-8" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;func&lt;/span&gt; (c *Client) &lt;span style=&quot;font-size: 20px;&quot;&gt;Fetch&lt;/span&gt;(ctx context.Context, ref &lt;span style=&quot;font-size: 20px;&quot;&gt;string&lt;/span&gt;, opts ...RemoteOpt) (images.Image, &lt;span style=&quot;font-size: 20px;&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3105.5" y="560" width="457" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-9" target="VnnF2bQGoL9Erzhlx2XS-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-15" value="存疑？" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="VnnF2bQGoL9Erzhlx2XS-14" vertex="1" connectable="0">
          <mxGeometry x="-0.2732" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-9" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;img&lt;/span&gt;, &lt;span style=&quot;font-size: 20px;&quot;&gt;err&lt;/span&gt; := c.&lt;span style=&quot;font-size: 20px;&quot;&gt;fetch&lt;/span&gt;(ctx, fetchCtx, ref, &lt;span style=&quot;font-size: 20px;&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3146" y="680" width="376" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-17" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;func&lt;/span&gt; (r *dockerResolver) &lt;span style=&quot;font-size: 20px;&quot;&gt;Fetcher&lt;/span&gt;(ctx context.Context, ref &lt;span style=&quot;font-size: 20px;&quot;&gt;string&lt;/span&gt;) (remotes.Fetcher, &lt;span style=&quot;font-size: 20px;&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3096" y="1040" width="476" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-20" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;font-size: 20px;&quot;&gt;FetchHandler&lt;/span&gt;(ingester content.Ingester, fetcher Fetcher) images.HandlerFunc {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3612" y="1120" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-21" value="流程没有经过GDB验证" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3530" y="60" width="280" height="160" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="VnnF2bQGoL9Erzhlx2XS-22" target="VnnF2bQGoL9Erzhlx2XS-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-22" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;handlers&lt;/span&gt; := &lt;span style=&quot;font-size: 20px;&quot;&gt;append&lt;/span&gt;(rCtx.BaseHandlers,&lt;/div&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;      remotes.&lt;span style=&quot;font-size: 20px;&quot;&gt;FetchHandler&lt;/span&gt;(store, fetcher),&lt;/div&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;      convertibleHandler,&lt;/div&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;      childrenHandler,&lt;/div&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;      appendDistSrcLabelHandler,&lt;/div&gt;&lt;div style=&quot;font-size: 20px;&quot;&gt;    )&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;labelBackgroundColor=default;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="3635.5" y="920" width="363" height="120" as="geometry" />
        </mxCell>
        <mxCell id="VnnF2bQGoL9Erzhlx2XS-23" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;err&lt;/span&gt; := images.&lt;span style=&quot;font-size: 20px;&quot;&gt;Dispatch&lt;/span&gt;(ctx, handler, limiter, desc);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="4090" y="920" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="445ApZD_RgdgtJku94gu-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" source="445ApZD_RgdgtJku94gu-1" target="445ApZD_RgdgtJku94gu-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="445ApZD_RgdgtJku94gu-1" value="&lt;div style=&quot;line-height: 19px; font-size: 20px;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;name, desc, err := rCtx.Resolver.Resolve(ctx, ref)&lt;/span&gt;&lt;/font&gt;&lt;br style=&quot;font-size: 20px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="2580" y="920" width="456" height="60" as="geometry" />
        </mxCell>
        <mxCell id="445ApZD_RgdgtJku94gu-2" value="&lt;div style=&quot;line-height: 19px; font-size: 20px;&quot;&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;获取name,如：docker.io/library/nginx:latest；&lt;br style=&quot;font-size: 20px;&quot;&gt;desc是描述&lt;br style=&quot;font-size: 20px;&quot;&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="2633" y="1040" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-1" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1020" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-2" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1030" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-3" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1040" y="90" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-4" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1050" y="100" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-5" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1060" y="110" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-6" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1070" y="120" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-7" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1080" y="130" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-8" target="4UUBeo0trnGXm4aUrk3_-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-8" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;main.main ()&lt;div style=&quot;line-height: 19px;&quot;&gt;cmd/ctr/main.go:37&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1945" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-9" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;containerd.(*Client).createNewImage&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;pull.go:259&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1912.5" y="1260" width="325" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-10" target="4UUBeo0trnGXm4aUrk3_-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-10" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;containerd.(*Client).Fetch&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;client.go:422&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1945" y="1140" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-11" target="4UUBeo0trnGXm4aUrk3_-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-11" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;content.Fetch&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cmd/ctr/commands/content/fetch.go:209&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1907.5" y="1020" width="335" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-12" target="4UUBeo0trnGXm4aUrk3_-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-12" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;images.glob..func9&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cmd/ctr/commands/images/pull.go:95&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1917.5" y="900" width="315" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-13" target="4UUBeo0trnGXm4aUrk3_-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-13" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cli.HandleAction&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;vendor/github.com/urfave/cli/app.go:524&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1902.5" y="780" width="345" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-14" target="4UUBeo0trnGXm4aUrk3_-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-14" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cli.Command.Run&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;vendor/github.com/urfave/cli/command.go:173&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1877.5" y="660" width="395" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-15" target="4UUBeo0trnGXm4aUrk3_-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-15" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cli.(*App).RunAsSubcommand&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;vendor/github.com/urfave/cli/app.go:405&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1892.5" y="540" width="365" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-16" target="4UUBeo0trnGXm4aUrk3_-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-16" value="&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;cli.Command.startApp&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;vendor/github.com/urfave/cli/command.go:378&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1872.5" y="420" width="405" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-17" target="4UUBeo0trnGXm4aUrk3_-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-17" value="&lt;div style=&quot;line-height: 19px; font-size: 20px;&quot;&gt;cli.Command.Run&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px; font-size: 20px;&quot;&gt;vendor/github.com/urfave/cli/command.go:102&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1820" y="300" width="510" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=20;" parent="1" source="4UUBeo0trnGXm4aUrk3_-18" target="4UUBeo0trnGXm4aUrk3_-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4UUBeo0trnGXm4aUrk3_-18" value="app.Run(os.Args)&lt;br&gt;&lt;div style=&quot;font-size: 20px; line-height: 19px;&quot;&gt;containerd/vendor/github.com/urfave/cli/app.go:277&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=#000000;fontFamily=Times New Roman;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="1857.5" y="170" width="435" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BU2FqGcvlGGiVEi2HxtR" name="FIO call rbd">
    <mxGraphModel dx="3075" dy="753" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="HfX4eFa0RISyM8rG-waV-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-20" target="HfX4eFa0RISyM8rG-waV-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-20" value="static void run_threads(struct sk_out *sk_out)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1070" y="150" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-27" target="HfX4eFa0RISyM8rG-waV-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-27" target="UjPMKc73IR1A3mm6ap9C-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-27" value="while (keep_running(td))&lt;br&gt;用死循环保持线程在运行就不断发送IO&lt;br&gt;td为数据线程：&amp;nbsp;struct thread_data *td = fd-&amp;gt;td;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="260" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-29" target="HfX4eFa0RISyM8rG-waV-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-29" value="io_u_submit(td, io_u);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="590" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-30" target="HfX4eFa0RISyM8rG-waV-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-30" value="do_io(td, bytes_done);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="370" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-31" target="HfX4eFa0RISyM8rG-waV-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-31" value="static void *thread_main(void *data)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="150" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-32" value="&lt;div&gt;ret = pthread_create(&amp;amp;td-&amp;gt;thread, NULL,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;       &lt;/span&gt;thread_main, fd);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1070" y="260" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-34" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1680" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-35" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-36" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-37" target="HfX4eFa0RISyM8rG-waV-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-37" value="src/librbd/librbd.cc&lt;br&gt;extern &quot;C&quot; int rbd_aio_write()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="150" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-38" target="HfX4eFa0RISyM8rG-waV-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1990" y="1050" />
              <mxPoint x="1990" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-38" value="&lt;div&gt;rbd_aio_write(rbd-&amp;gt;image, io_u-&amp;gt;offset, io_u-&amp;gt;xfer_buflen,&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;io_u-&amp;gt;xfer_buf, fri-&amp;gt;completion);&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="1020" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-39" target="HfX4eFa0RISyM8rG-waV-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-39" value="&lt;div style=&quot;color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;FIO_STATIC&lt;/span&gt; &lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;ioengine_ops&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;ioengine&lt;/span&gt; = {&lt;/div&gt;&lt;div&gt;&amp;nbsp; .name &amp;nbsp; &amp;nbsp; = &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;rbd&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .version &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #569cd6;&quot;&gt;FIO_IOOPS_VERSION&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .setup &amp;nbsp; &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_setup&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .init &amp;nbsp; &amp;nbsp; = &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_init&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .queue &amp;nbsp; &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_queue&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .getevents &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_getevents&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .event &amp;nbsp; &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_event&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .cleanup &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_cleanup&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .open_file &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_open&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .invalidate &amp;nbsp; = &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_invalidate&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .options &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #9cdcfe;&quot;&gt;options&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .io_u_init &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_io_u_init&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .io_u_free &amp;nbsp; &amp;nbsp;= &lt;span style=&quot;color: #dcdcaa;&quot;&gt;fio_rbd_io_u_free&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; .option_struct_size = &lt;span style=&quot;color: #569cd6;&quot;&gt;sizeof&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;rbd_options&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="950" y="770" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-40" target="HfX4eFa0RISyM8rG-waV-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-40" value="&lt;div&gt;fio_q_status fio_rbd_queue(struct thread_data *td,&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;struct io_u *io_u)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="910" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-41" target="HfX4eFa0RISyM8rG-waV-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-41" value="？？？&lt;br&gt;不知道具体怎么样一个跳转机制&lt;br&gt;但是指定了ioengine为rbd&lt;br&gt;queue为fio_rbd_queue" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="800" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-42" target="HfX4eFa0RISyM8rG-waV-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-42" value="td_io_queue(td, io_u);&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="690" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-43" value="workqueue_enqueue(&amp;amp;td-&amp;gt;io_wq, &amp;amp;io_u-&amp;gt;work);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1050" y="480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-45" target="HfX4eFa0RISyM8rG-waV-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-45" target="HfX4eFa0RISyM8rG-waV-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-45" value="td-&amp;gt;o.io_submit_mode == IO_MODE_OFFLOAD" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1370" y="470" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-62" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-63" target="daJ2NDydBngZFMju6xUY-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-63" value="bool handled = send_dispatch(dispatch, dispatch_spec);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2015" y="950" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-64" value="aio_comp-&amp;gt;set_event_notify(true);&lt;br&gt;ImageDispatchSpec构造aio_comp(aio_comp)&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;i&lt;span style=&quot;background-color: initial;&quot;&gt;o_comp-&amp;gt;image_dispatcher_ctx = &amp;amp;dispatcher_ctx;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;aio_comp-&amp;gt;get(); get操作引用计数+1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2360" y="360" width="340" height="180" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-65" target="HfX4eFa0RISyM8rG-waV-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-65" value="经过一层层image层方法调用，直到处理请求的层次，然后调用层次各自的方法，比如调用post()切换线程处理写请求&lt;br&gt;src\librbd\io\Dispatcher.h&lt;br&gt;void send(DispatchSpec* dispatch_spec) {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2010" y="850" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-66" value="thread: fio" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shape=link;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-67" target="HfX4eFa0RISyM8rG-waV-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-28" style="edgeStyle=orthogonalEdgeStyle;shape=link;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#FF0000;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-67" target="daJ2NDydBngZFMju6xUY-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-67" value="在这里调用了基础的请求分发器，在image层一层层地进行分发，直到某一层进行了处理，可能会到core层，处理时会调用boost库post方法切换线程到io_context_pool进行具体的写操作等, 然后修改dispatch的状态为DISPATCH_RESULT_COMPLETE&lt;br&gt;例如：bool QueueImageDispatch&amp;lt;I&amp;gt;::write(&lt;br&gt;bool QueueImageDispatch&amp;lt;I&amp;gt;::enqueue(&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(on_dispatched, 0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2510.01" y="550" width="290" height="135" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-68" value="&amp;nbsp; virtual void send(DispatchSpec* dispatch_spec) = 0;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="750" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-69" target="HfX4eFa0RISyM8rG-waV-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-69" value="&lt;div&gt;struct ImageDispatcherInterface&lt;/div&gt;&lt;div&gt;&amp;nbsp; : public DispatcherInterface&amp;lt;ImageDispatchInterface&amp;gt; {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="650" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-70" target="HfX4eFa0RISyM8rG-waV-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shape=link;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-70" target="HfX4eFa0RISyM8rG-waV-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-70" value="&lt;div&gt;void ImageDispatchSpec::send() {&lt;/div&gt;&lt;div&gt;&amp;nbsp; image_dispatcher-&amp;gt;send(this);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="550" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-71" target="HfX4eFa0RISyM8rG-waV-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-71" value="req = io::ImageDispatchSpec::create_write(&lt;br&gt;req-&amp;gt;send();" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-72" target="HfX4eFa0RISyM8rG-waV-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-72" value="src/librbd/api/Io.cc:244&lt;br&gt;aio_write" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="350" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-73" target="HfX4eFa0RISyM8rG-waV-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-73" value="&lt;div&gt;&amp;nbsp;librbd::api::Io&amp;lt;&amp;gt;::aio_write(&lt;span style=&quot;background-color: initial;&quot;&gt;*ictx, aio_completion, off, len, std::move(bl), 0, true);&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1955" y="250" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-81" target="HfX4eFa0RISyM8rG-waV-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-81" value="src/common/async/context_pool.h:63&lt;br&gt;&lt;div&gt;threadvec.emplace_back(make_named_thread(&quot;io_context_pool&quot;,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt; [this]() {&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;&amp;nbsp; &amp;nbsp;ioctx.run();&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt; }));&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3352" y="270" width="360" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-82" value="&lt;div&gt;(gdb) n&lt;/div&gt;&lt;div&gt;59&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ioctx.restart();&lt;/div&gt;&lt;div&gt;(gdb) p threadcnt&lt;/div&gt;&lt;div&gt;$1 = 2&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;基于rados client共用io_contxt_pool，使用rados client的ctx进行asio的post，就会由io_contxt_pool线程处理&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3080" y="250" width="232.5" height="102.5" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-83" target="HfX4eFa0RISyM8rG-waV-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-83" value="src/librbd/io/ImageRequest.cc:467&lt;br&gt;librbd::io::AbstractImageWriteRequest&amp;lt;librbd::ImageCtx&amp;gt;::send_request" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3335" y="1575" width="395" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-85" target="HfX4eFa0RISyM8rG-waV-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-85" value="&lt;span data-reactroot=&quot;&quot; class=&quot;notion-enable-hover&quot; data-token-index=&quot;0&quot; style=&quot;color:rgba(217, 115, 13, 1);border-bottom:0.05em solid;word-wrap:break-word;font-weight:600;fill:rgba(217, 115, 13, 1)&quot;&gt;src/librbd/AsioEngine.cc&lt;/span&gt;:52&lt;br&gt;AsioEngine::post(Context* ctx, int r)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3402" y="420" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-86" target="HfX4eFa0RISyM8rG-waV-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-86" value="src/librbd/io/ImageRequest.cc:309&lt;br&gt;librbd::io::ImageRequest&amp;lt;librbd::ImageCtx&amp;gt;::send" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3394.5" y="1465" width="275" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-87" target="HfX4eFa0RISyM8rG-waV-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-87" value="src/librbd/io/ImageRequest.cc:247&lt;br&gt;librbd::io::ImageRequest&amp;lt;librbd::ImageCtx&amp;gt;::aio_write" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3384" y="1365" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-88" target="HfX4eFa0RISyM8rG-waV-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-88" value="src/librbd/io/Dispatcher.h:129&lt;br&gt;librbd::io::Dispatcher&amp;lt;librbd::ImageCtx, librbd::io::ImageDispatcherInterface&amp;gt;::send" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2950" y="770" width="450" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-89" target="daJ2NDydBngZFMju6xUY-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-89" value="src/librbd/io/ImageRequest.cc:474&lt;br&gt;librbd::io::AbstractImageWriteRequest&amp;lt;librbd::ImageCtx&amp;gt;::send_object_requests" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3314.5" y="1685" width="435" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-91" target="HfX4eFa0RISyM8rG-waV-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-91" value="src/librbd/io/ImageDispatchSpec.cc:29&lt;br&gt;librbd::io::ImageDispatchSpec::C_Dispatcher::complete" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3020" y="660" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-93" target="UjPMKc73IR1A3mm6ap9C-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-93" value="ASIO" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3402" y="540" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-94" target="HfX4eFa0RISyM8rG-waV-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-94" value="src/librbd/io/ImageDispatch.cc:68&lt;br&gt;librbd::io::ImageDispatch&amp;lt;librbd::ImageCtx&amp;gt;::write" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3394" y="1245" width="275" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-95" value="src/librbd/io/ImageDispatcher.cc:64&lt;br&gt;librbd::io::ImageDispatcher&amp;lt;librbd::ImageCtx&amp;gt;::SendVisitor::operator()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2981.75" y="990" width="385" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="HfX4eFa0RISyM8rG-waV-97" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3175" y="990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-97" value="src/librbd/io/ImageDispatcher.cc:300&lt;br&gt;librbd::io::ImageDispatcher&amp;lt;librbd::ImageCtx&amp;gt;::send_dispatch" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2997" y="880" width="355" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HfX4eFa0RISyM8rG-waV-104" value="正经开始write，使用的回调函数是之前保存的 image_dispatch_spec-&amp;gt;aio_comp" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2697" y="1240" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-3" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;shape=link;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-5" target="HxaHLPuzsn73CjZOQ1fi-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-5" value="external_events.push_back(e);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3770" y="1430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-6" value="&lt;div&gt;void ImageDispatchSpec::C_Dispatcher::complete(int r) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; switch (image_dispatch_spec-&amp;gt;dispatch_result) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; case DISPATCH_RESULT_RESTART:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ceph_assert(image_dispatch_spec-&amp;gt;dispatch_layer != 0);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;dispatch_layer = static_cast&amp;lt;ImageDispatchLayer&amp;gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;dispatch_layer - 1);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; [[fallthrough]];&lt;/div&gt;&lt;div&gt;&amp;nbsp; case DISPATCH_RESULT_CONTINUE:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (r &amp;lt; 0) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // bubble dispatch failure through AioCompletion&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;dispatch_result = DISPATCH_RESULT_COMPLETE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;fail(r);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;image_dispatch_spec-&amp;gt;send();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; case DISPATCH_RESULT_COMPLETE:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;finish(r);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; case DISPATCH_RESULT_INVALID:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ceph_abort();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2476.88" y="710" width="356.25" height="460" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-7" target="daJ2NDydBngZFMju6xUY-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-7" value="&lt;div&gt;bool ImageDispatcher&amp;lt;I&amp;gt;::preprocess(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ImageDispatchSpec* image_dispatch_spec) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; return boost::apply_visitor(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; PreprocessVisitor{this, image_dispatch_spec},&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;request);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1992.5" y="1250" width="355" height="100" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-9" target="daJ2NDydBngZFMju6xUY-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-9" value="image_dispatch_spec-&amp;gt;tid = ++m_next_tid; 这个可能是thread ID" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1995" y="1150" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-10" target="daJ2NDydBngZFMju6xUY-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-10" value="bool ImageDispatcher&amp;lt;I&amp;gt;::send_dispatch(" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1050" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2169.8275862068967" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-11" target="daJ2NDydBngZFMju6xUY-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-20" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Times New Roman;" parent="daJ2NDydBngZFMju6xUY-18" vertex="1" connectable="0">
          <mxGeometry x="-0.2835" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-11" value="success?" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2130" y="1390" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-13" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="810" y="1440" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-14" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="820" y="1450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-15" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="830" y="1460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-16" value="&lt;div&gt;&amp;nbsp; return boost::apply_visitor(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; PreprocessVisitor{this, image_dispatch_spec},&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image_dispatch_spec-&amp;gt;request);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2300" y="1400" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-17" value="return true" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1500" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-25" value="thread: Io_context_pool" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3405" y="150" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-29" value="回调handle_write_object" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3781" y="2670" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-30" target="daJ2NDydBngZFMju6xUY-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-30" value="void AbstractObjectWriteRequest&amp;lt;I&amp;gt;::write_object()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3387.5" y="2530" width="275.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-31" target="daJ2NDydBngZFMju6xUY-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-31" value="pre_write_object_map_update();" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3396" y="2430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-32" target="daJ2NDydBngZFMju6xUY-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-32" value="void AbstractObjectWriteRequest&amp;lt;I&amp;gt;::send()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3395.5" y="2330" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-33" target="daJ2NDydBngZFMju6xUY-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-33" value="&lt;div&gt;&amp;nbsp; auto req = new ObjectWriteRequest&amp;lt;I&amp;gt;(m_image_ctx, object_no, object_off,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;std::move(data), io_context, op_flags,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;write_flags, assert_version,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;parent_trace, on_dispatched);&lt;/div&gt;&lt;div&gt;&amp;nbsp; req-&amp;gt;send();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3307.75" y="2210" width="435" height="80" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-34" target="daJ2NDydBngZFMju6xUY-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-34" value="&lt;div&gt;bool operator()(ObjectDispatchSpec::WriteRequest&amp;amp; write) const {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return object_dispatch-&amp;gt;write(&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3342.5" y="2110" width="365.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-36" value="&lt;div&gt;&amp;nbsp; image_ctx-&amp;gt;rados_api.execute(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {data_object_name(this-&amp;gt;m_ictx, this-&amp;gt;m_object_no)},&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; *this-&amp;gt;m_io_context, std::move(write_op),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; librbd::asio::util::get_callback_adapter(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; [this](int r) { handle_write_object(r); }), nullptr,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; (this-&amp;gt;m_trace.valid() ? this-&amp;gt;m_trace.get_info() : nullptr));&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3370.5" y="2630" width="310" height="140" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-37" value="&lt;div&gt;void ObjectDispatchSpec::send() {&lt;/div&gt;&lt;div&gt;&amp;nbsp; object_dispatcher-&amp;gt;send(this);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3402.5" y="1900" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-38" value="&lt;div&gt;auto request = create_object_request(oe, io_context, journal_tid,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;single_extent, req_comp);&lt;/div&gt;&lt;div&gt;request-&amp;gt;send();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3349.25" y="1795" width="365.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-54" target="tr-M7fvBiXceQsFCyTLG-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-54" target="daJ2NDydBngZFMju6xUY-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-54" value="connection-&amp;gt;center-&amp;gt;dispatch_event_external(connection-&amp;gt;write_handler);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3855" y="1300" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-55" target="tr-M7fvBiXceQsFCyTLG-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-55" value="src\msg\async\AsyncConnection.cc&lt;br&gt;int AsyncConnection::send_message(Message *m)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3905" y="1060" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-56" value="调用层次&lt;br&gt;struct Op : public RefCountedObject&lt;br&gt;struct OSDSession : public RefCountedObject&lt;br&gt;ConnectionRef con;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4280" y="940" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-57" target="daJ2NDydBngZFMju6xUY-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-57" value="构造op msg&lt;br&gt;MOSDOp *m = _prepare_osd_op(op);&lt;br&gt;发送op msg&lt;br&gt;op-&amp;gt;session-&amp;gt;con-&amp;gt;send_message(m);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="940" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-58" target="daJ2NDydBngZFMju6xUY-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-58" value="省略，构造op，下发" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="740" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-59" target="daJ2NDydBngZFMju6xUY-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-59" value="void Objecter::_send_op(Op *op)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="840" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-60" target="daJ2NDydBngZFMju6xUY-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-60" value="op_submit(o);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="640" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-61" target="daJ2NDydBngZFMju6xUY-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-61" value="&lt;div&gt;&amp;nbsp; void mutate(const object_t&amp;amp; oid, const object_locator_t&amp;amp; oloc,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ObjectOperation&amp;amp;&amp;amp; op, const SnapContext&amp;amp; snapc,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ceph::real_time mtime, int flags,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; std::unique_ptr&amp;lt;Op::OpComp&amp;gt;&amp;amp;&amp;amp; oncommit,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; version_t *objver = NULL, osd_reqid_t reqid = osd_reqid_t(),&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ZTracer::Trace *parent_trace = nullptr) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3870" y="490" width="380" height="110" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-62" target="daJ2NDydBngZFMju6xUY-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-62" value="&lt;div&gt;&amp;nbsp; impl-&amp;gt;objecter-&amp;gt;mutate(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; *oid, ioc-&amp;gt;oloc, std::move(op-&amp;gt;op), ioc-&amp;gt;snapc,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mtime, flags,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; std::move(c), objver, osd_reqid_t{}, &amp;amp;trace);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3905" y="390" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;fontFamily=Times New Roman;" parent="1" source="daJ2NDydBngZFMju6xUY-63" target="daJ2NDydBngZFMju6xUY-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="daJ2NDydBngZFMju6xUY-63" value="&lt;div&gt;src/neorados/RADOS.cc&lt;br&gt;&lt;/div&gt;&lt;div&gt;void RADOS::execute(const Object&amp;amp; o, const IOContext&amp;amp; _ioc, WriteOp&amp;amp;&amp;amp; _op,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt;&amp;nbsp; &amp;nbsp; std::unique_ptr&amp;lt;WriteOp::Completion&amp;gt; c, version_t* objver,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt;&amp;nbsp; &amp;nbsp; const blkin_trace_info *trace_info) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3840" y="282.5" width="440" height="65" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-1" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="820" y="1450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-2" value="threadvec.emplace_back(make_named_thread(&quot;&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;&lt;b&gt;io_context_pool&quot;&lt;/b&gt;&lt;/span&gt;," style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1295" y="2020" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-3" target="SjG1W9Pc4g3mqP5jkMTY-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-3" value="poolctx.start(cct-&amp;gt;_conf.get_val&amp;lt;std::uint64_t&amp;gt;(&quot;librados_thread_count&quot;));" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1375" y="1780" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-4" target="SjG1W9Pc4g3mqP5jkMTY-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-4" value="class io_context_pool {&lt;br&gt;void start(std::int16_t threadcnt) noexcept {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1375" y="1900" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-5" target="SjG1W9Pc4g3mqP5jkMTY-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-5" value="_fio_rbd_connect" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1375" y="1370" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-6" target="SjG1W9Pc4g3mqP5jkMTY-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-6" value="extern &quot;C&quot; int LIBRADOS_C_API_DEFAULT_F(rados_connect)(rados_t cluster)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1290" y="1470" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-7" target="SjG1W9Pc4g3mqP5jkMTY-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-7" target="SjG1W9Pc4g3mqP5jkMTY-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-7" target="tr-M7fvBiXceQsFCyTLG-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-7" target="tr-M7fvBiXceQsFCyTLG-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1505" y="1710" />
              <mxPoint x="1750" y="1710" />
              <mxPoint x="1750" y="1930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-7" value="int librados::RadosClient::connect()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1375" y="1580" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-8" target="SjG1W9Pc4g3mqP5jkMTY-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-8" value="void common_init_finish(CephContext *cct)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="930" y="1780" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-9" target="SjG1W9Pc4g3mqP5jkMTY-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-9" value="void CephContext::&lt;b style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;start_service_thread&lt;/b&gt;()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="930" y="1900" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-10" target="SjG1W9Pc4g3mqP5jkMTY-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-10" value="&lt;div&gt;void call_observers(std::unique_lock&amp;lt;ceph::recursive_mutex&amp;gt;&amp;amp; locker,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rev_obs_map_t&amp;amp; rev_obs) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="860" y="2020" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bq2SGO0wd_ukziBwOb1F-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-11" target="bq2SGO0wd_ukziBwOb1F-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-11" value="poolctx.start(conf.get_val&amp;lt;std::uint64_t&amp;gt;(&quot;librados_thread_count&quot;));" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="2250" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Times New Roman;" parent="1" source="SjG1W9Pc4g3mqP5jkMTY-12" target="SjG1W9Pc4g3mqP5jkMTY-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SjG1W9Pc4g3mqP5jkMTY-12" value="&lt;div&gt;void librados::RadosClient::handle_conf_change(const ConfigProxy&amp;amp; conf,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;const std::set&amp;lt;std::string&amp;gt; &amp;amp;changed)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="860" y="2130" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-1" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5520" y="65" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-2" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5530" y="75" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-3" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5530" y="75" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-5" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5530" y="75" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-6" value="class Poller {&lt;br&gt;class EventCallback {&lt;br&gt;typedef EventCallback* EventCallbackRef;&lt;br&gt;&lt;br&gt;析构的时候会调用e-&amp;gt;do_request(0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="1580" width="260" height="110" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-7" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-8" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-9" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1720" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-10" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-11" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-12" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1720" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-13" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7230" y="430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-14" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="440" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-15" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-16" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="440" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-17" value="Worker *w = stack-&amp;gt;create_worker(c, worker_id);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6135" y="390" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HxaHLPuzsn73CjZOQ1fi-18" value="回调：&amp;nbsp;&lt;br&gt;std::unique_ptr&amp;lt;Op::OpComp&amp;gt;&amp;amp;&amp;amp; oncommit," style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4300" y="515" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-1" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5530" y="75" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-2" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-3" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-5" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-6" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="440" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-7" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-8" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-9" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-10" value="&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;可能会触发ASIO切换线程的操作有：&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2765" y="1790" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-11" target="daJ2NDydBngZFMju6xUY-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-11" value="与image 一层层下发流程类似，直到某一层object处理了。可能会到core层" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3394.5" y="2020" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-12" target="HfX4eFa0RISyM8rG-waV-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-12" value="在某一个image层能够处理请求，并且调用到了具体的该层次的write函数，然后可能是通过post映射到最基础的write函数，也可能是像cache一样直接处理" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3401.5" y="1125" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-13" target="UjPMKc73IR1A3mm6ap9C-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-13" value="&lt;div&gt;void ms_fast_dispatch(Message *m) override {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (!ms_dispatch(m)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; m-&amp;gt;put();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4910" y="932.5" width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-14" value="需要调用&lt;br&gt;op-&amp;gt;complete(" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4280" y="1060" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-15" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-16" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-17" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7270" y="470" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-18" value="如果是ms fast reply/dispath，由messager 线程处理，可能是直接处理，也可能是放到队列里&lt;br&gt;如果不是fast，由client的回调处理" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7230" y="697.5" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-19" target="UjPMKc73IR1A3mm6ap9C-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-19" value="stack-&amp;gt;ready();" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="292.5" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-20" target="UjPMKc73IR1A3mm6ap9C-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-20" value="AsyncMessenger::ready()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="190" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-21" target="UjPMKc73IR1A3mm6ap9C-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-21" value="ProtocolV2::ready()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="110" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-22" target="UjPMKc73IR1A3mm6ap9C-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-22" value="&lt;div&gt;&amp;nbsp; auto single = &amp;amp;cct-&amp;gt;lookup_or_create_singleton_object&amp;lt;StackSingleton&amp;gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;AsyncMessenger::NetworkStack::&quot; + transport_type, true, cct);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6082.5" y="200" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.51;entryY=-0.011;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-23" target="HxaHLPuzsn73CjZOQ1fi-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-23" value="single-&amp;gt;ready(transport_type);&lt;br&gt;struct StackSingleton {&lt;br&gt;stack = NetworkStack::create(cct, type);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6092.5" y="292.5" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-24" value="&lt;div&gt;void Processor::start()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; ldout(msgr-&amp;gt;cct, 1) &amp;lt;&amp;lt; __func__ &amp;lt;&amp;lt; dendl;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // start thread&lt;/div&gt;&lt;div&gt;&amp;nbsp; worker-&amp;gt;center.submit_to(worker-&amp;gt;center.get_id(), [this]() {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for (auto&amp;amp; listen_socket : listen_sockets) {&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;if (listen_socket) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (listen_socket.fd() == -1) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ldout(msgr-&amp;gt;cct, 1) &amp;lt;&amp;lt; __func__&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;&amp;lt; &quot; Error: processor restart after listen_socket.fd closed. &quot;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;&amp;lt; this &amp;lt;&amp;lt; dendl;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&amp;nbsp; worker-&amp;gt;center.&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;create_file_event&lt;/span&gt;(listen_socket.fd(), EVENT_READABLE,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;&amp;nbsp; &amp;nbsp;listen_handler); }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }, false);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="585" width="540" height="285" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="6740.068965517242" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-25" value="void Processor::start()" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="500" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-26" target="UjPMKc73IR1A3mm6ap9C-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-26" value="int err = bindv(pending_bind_addrs);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6610" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-27" target="UjPMKc73IR1A3mm6ap9C-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-27" value="构造的时候&lt;br&gt;AsyncMessenger::AsyncMessenger(CephContext *cct, entity_name_t name," style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6080" y="110" width="425" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-28" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7230" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-29" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="410" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-30" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="420" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-31" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="410" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-32" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="410" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-33" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="420" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-34" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-35" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="420" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-36" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="420" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-37" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-38" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7270" y="440" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-39" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-40" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7230" y="380" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-41" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="390" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-42" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-43" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="390" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-44" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7240" y="390" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-45" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-46" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="410" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-47" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-48" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7250" y="400" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-49" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="7260" y="410" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-50" target="UjPMKc73IR1A3mm6ap9C-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-50" value="void DispatchQueue::fast_dispatch(const ref_t&amp;lt;Message&amp;gt;&amp;amp; m)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4935" y="832.5" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-51" value="&lt;div&gt;回调由事件驱动&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;bool Objecter::ms_dispatch(Message *m)&lt;br&gt;&lt;/div&gt;&lt;div&gt;void Objecter::handle_osd_op_reply(MOSDOpReply *m)&lt;/div&gt;&lt;div&gt;// do callbacks&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (Op::has_completion(onfinish)) {&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4865" y="1062.5" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-52" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-53" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-54" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-55" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-56" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1700" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-57" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-58" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1710" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-59" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1720" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-60" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1730" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-61" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1720" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-62" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1720" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-63" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1730" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-64" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1670" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-65" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1680" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-66" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="90" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-67" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1680" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-68" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1680" y="80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-69" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="90" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-70" value="fri_check_complete" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="910" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-71" target="UjPMKc73IR1A3mm6ap9C-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-71" value="rbd_iter_events" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="800" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-72" target="UjPMKc73IR1A3mm6ap9C-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-72" value="fio_rbd_getevents" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="690" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-73" target="UjPMKc73IR1A3mm6ap9C-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-73" value="td_io_getevents" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="590" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-74" target="UjPMKc73IR1A3mm6ap9C-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-74" value="io_u_queued_complete" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;" parent="1" source="UjPMKc73IR1A3mm6ap9C-75" target="UjPMKc73IR1A3mm6ap9C-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UjPMKc73IR1A3mm6ap9C-75" value="int wait_for_completions" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1690" y="370" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-1" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="820" y="1450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-2" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="830" y="1460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-3" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="840" y="1470" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-4" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="830" y="1460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-5" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="830" y="1460" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-6" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="840" y="1470" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-7" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="1480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-8" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="840" y="1470" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-9" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="840" y="1470" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-10" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="1480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-11" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="860" y="1490" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-12" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="1480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-13" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="1480" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-14" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="860" y="1490" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-15" value="objecter = new (std::nothrow) Objecter(cct, messenger, &amp;amp;monclient, poolctx);&lt;br&gt;&lt;div&gt;objecter-&amp;gt;init();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1785" y="1900" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-16" value="messenger = Messenger::create_client_messenger(cct, &quot;radosclient&quot;);&lt;br&gt;&lt;div&gt;messenger-&amp;gt;start();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1780" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-32" value="thread: fio" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1380" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-34" value="connect 流程，用于启动各自线程和构造对象" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="1375" y="1270" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-38" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5530" y="75" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-39" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-40" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-41" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-42" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-43" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-44" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-45" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-46" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-47" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-48" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5540" y="85" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-49" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-50" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-51" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-52" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-53" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-54" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-55" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5570" y="115" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-56" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-57" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-58" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5550" y="95" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-59" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5560" y="105" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-60" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5570" y="115" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-62" value="ssize_t ProtocolV2::write_message(Message *m, bool more) {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="5130" y="450" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="tr-M7fvBiXceQsFCyTLG-63" target="tr-M7fvBiXceQsFCyTLG-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="tr-M7fvBiXceQsFCyTLG-63" target="tr-M7fvBiXceQsFCyTLG-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-63" value="void ProtocolV2::write_event() {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4935" y="295" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-64" value="&lt;b&gt;&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;out_queue&lt;/span&gt;.erase(it-&amp;gt;first);&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4745" y="560" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="tr-M7fvBiXceQsFCyTLG-65" target="tr-M7fvBiXceQsFCyTLG-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-65" value="ProtocolV2::out_queue_entry_t ProtocolV2::_get_next_outgoing() {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4670" y="450" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-66" value="唤醒线程的事件处理&lt;br&gt;wakeup();" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4100" y="1430" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-68" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2732.5" y="20" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-69" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-70" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-71" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-72" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-73" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-74" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-75" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-76" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-77" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-78" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-79" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-80" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-81" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-82" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-83" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-84" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-85" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2772.5" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-86" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-87" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-88" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2752.5" y="40" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-89" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-90" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2772.5" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-91" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-92" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-93" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-94" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2772.5" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-95" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2782.5" y="70" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-96" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2772.5" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-97" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2772.5" y="60" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-98" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="50" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-99" value="&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;void SimpleSchedulerObjectDispatch&amp;lt;I&amp;gt;::schedule_dispatch_delayed_requests() {&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2672" y="2620" width="445.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-100" value="&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;bool QueueImageDispatch&amp;lt;I&amp;gt;::enqueue(&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(on_dispatched, 0);&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2733" y="2520" width="322.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-101" value="void QosImageDispatch&amp;lt;I&amp;gt;::handle_throttle_ready(Tag&amp;amp;&amp;amp; tag, uint64_t flag) {&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(tag.on_dispatched, 0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2687.51" y="2420" width="414.99" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-102" value="&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;void ObjectReadRequest&amp;lt;I&amp;gt;::read_object() {&lt;br&gt;image_ctx-&amp;gt;asio_engine-&amp;gt;post([this]() { read_parent(); });&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2732.5" y="2330" width="325" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-103" value="&lt;span style=&quot;background-color: rgb(51, 255, 51);&quot;&gt;void ObjectRequest&amp;lt;I&amp;gt;::async_finish(int r) {&lt;br&gt;m_ictx-&amp;gt;asio_engine-&amp;gt;post([this, r]() { finish(r); });&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2762.5" y="2240" width="265" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-104" value="void ObjectDispatch&amp;lt;I&amp;gt;::shut_down(Context* on_finish) {&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(on_finish, 0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2742.5" y="2150" width="305" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-105" value="void CopyupRequest&amp;lt;I&amp;gt;::read_from_parent() {&lt;br&gt;&lt;div&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; [this]() { handle_read_from_parent(-ENOENT); });&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2747.5" y="2060" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-106" value="void AsyncOperation::flush(Context* on_finish) {&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(on_finish, 0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2765" y="1970" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-107" value="void AsyncOperation::finish_op() {&lt;br&gt;m_image_ctx-&amp;gt;asio_engine-&amp;gt;post(ctx, 0);" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="2765" y="1880" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-110" value="thread: msgr-worker" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4935" y="150" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#33FF33;fontFamily=Times New Roman;" parent="1" source="tr-M7fvBiXceQsFCyTLG-67" target="daJ2NDydBngZFMju6xUY-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-67" value="void ProtocolV2::send_message(Message *m) {" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="3930" y="1180" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-116" value="thread: msgr-worker" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="4935" y="740" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tr-M7fvBiXceQsFCyTLG-132" value="connect的时候，构造messenger，创建worker thread，与osd建立连接，绑定IP，监听事件的过程，了解的不是很详细" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="6445" y="20" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bq2SGO0wd_ukziBwOb1F-1" value="class io_context_pool {&lt;br&gt;void start(std::int16_t threadcnt) noexcept {" style="whiteSpace=wrap;html=1;align=left;rounded=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="850" y="2360" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-57" target="CDDL0Lww8lR1G3c61X2a-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-57" value="IO handle thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="210" y="402.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-58" target="CDDL0Lww8lR1G3c61X2a-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-58" value="dispatch layer by layer" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="20" y="472.5" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-59" target="CDDL0Lww8lR1G3c61X2a-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-59" value="rbd_aio_write()" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="40" y="402.5" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-60" target="CDDL0Lww8lR1G3c61X2a-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-60" value="flag changed" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="530" y="312.5" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-61" target="CDDL0Lww8lR1G3c61X2a-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-61" value="call rbd interface" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="35" y="315" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-62" value="wait call back complete IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="530" y="180" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-63" target="CDDL0Lww8lR1G3c61X2a-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-63" value="submit IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="40" y="242.5" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-64" target="CDDL0Lww8lR1G3c61X2a-97" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="345" y="90" />
              <mxPoint x="85" y="90" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-64" target="CDDL0Lww8lR1G3c61X2a-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="345" y="90" />
              <mxPoint x="575" y="90" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-64" value="app thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="300" y="35" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-68" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="372.5" as="sourcePoint" />
            <mxPoint x="800" y="373" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-74" target="CDDL0Lww8lR1G3c61X2a-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-74" value="get message from queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="490" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eZsd98MwQnQk5sjblpH2-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-75" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="350" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-75" value="put message to queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="197.5" y="610" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-76" target="CDDL0Lww8lR1G3c61X2a-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-76" value="package IO to message" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="192.5" y="542.5" width="135" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-77" target="CDDL0Lww8lR1G3c61X2a-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-77" value="get IO from queue and handle IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="207.5" y="472.5" width="105" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eZsd98MwQnQk5sjblpH2-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="170" y="558" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-78" value="put into queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="40" y="537.5" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-87" target="CDDL0Lww8lR1G3c61X2a-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-87" target="CDDL0Lww8lR1G3c61X2a-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-87" value="messenger thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="350" y="515" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-95" value="&lt;ol type=&quot;1&quot; start=&quot;1&quot; style=&quot;margin-top:0in&quot;&gt;fio连接rbd&lt;br&gt; &lt;li style=&quot;margin-left:0in;mso-list:l0 level1 lfo1&quot; class=&quot;MsoListParagraph&quot;&gt;r = rados_create(&amp;amp;rbd-&amp;gt;cluster, o-&amp;gt;client_name);&lt;/li&gt;&lt;br&gt; &lt;li style=&quot;margin-left:0in;mso-list:l0 level1 lfo1&quot; class=&quot;MsoListParagraph&quot;&gt;r = rados_connect(rbd-&amp;gt;cluster);&lt;/li&gt;&lt;br&gt; &lt;li style=&quot;margin-left:0in;mso-list:l0 level1 lfo1&quot; class=&quot;MsoListParagraph&quot;&gt;r = rados_ioctx_create(rbd-&amp;gt;cluster, o-&amp;gt;pool_name, &amp;amp;rbd-&amp;gt;io_ctx);&lt;/li&gt;&lt;br&gt; &lt;li style=&quot;margin-left:0in;mso-list:l0 level1 lfo1&quot; class=&quot;MsoListParagraph&quot;&gt;r = rbd_open(rbd-&amp;gt;io_ctx, o-&amp;gt;rbd_name, &amp;amp;rbd-&amp;gt;image, NULL /*snap&lt;br&gt;     */ );&lt;/li&gt;&lt;br&gt;&lt;/ol&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="70" y="842.5" width="515" height="220" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-96" target="CDDL0Lww8lR1G3c61X2a-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-96" value="open image" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="40" y="180" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-97" target="CDDL0Lww8lR1G3c61X2a-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-97" value="connect ceph" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="40" y="115" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eZsd98MwQnQk5sjblpH2-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="565.3333333333335" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-98" value="event get reply&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;text-align: left; font-size: 12px;&quot;&gt;handle reply, callback&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="490" y="472.5" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-99" target="CDDL0Lww8lR1G3c61X2a-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="782" y="493" />
              <mxPoint x="688" y="493" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-99" value="OSDs" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="737" y="510" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontFamily=Times New Roman;" parent="1" source="CDDL0Lww8lR1G3c61X2a-100" target="CDDL0Lww8lR1G3c61X2a-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-100" value="send message" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="600" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-101" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="710" y="750" as="sourcePoint" />
            <mxPoint x="710" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-108" value="Application" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="10" y="25" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-109" value="Ceph Client" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="207.5" y="700" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CDDL0Lww8lR1G3c61X2a-110" value="Ceph Server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="737" y="695" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eZsd98MwQnQk5sjblpH2-1" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="344.5" y="680" as="sourcePoint" />
            <mxPoint x="344.5" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eZsd98MwQnQk5sjblpH2-2" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=12;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="680" as="sourcePoint" />
            <mxPoint x="170" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-2" target="oGfr0wzXDb7d15qpLm4l-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-2" value="IO handle thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-945" y="442.5" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-4" target="oGfr0wzXDb7d15qpLm4l-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-4" value="dispatch layer by layer" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1150" y="517.5" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-6" target="oGfr0wzXDb7d15qpLm4l-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-6" value="rbd_aio_write()" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1160" y="442.5" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-8" target="oGfr0wzXDb7d15qpLm4l-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-8" value="flag changed" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-610" y="315" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-10" target="oGfr0wzXDb7d15qpLm4l-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-10" value="call rbd interface" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1120" y="360" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-11" value="wait call back complete IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-637.5" y="225" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-13" target="oGfr0wzXDb7d15qpLm4l-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-13" value="submit IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1115" y="287.5" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-16" target="oGfr0wzXDb7d15qpLm4l-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-800" y="140" />
              <mxPoint x="-565" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-16" target="oGfr0wzXDb7d15qpLm4l-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-16" value="app thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-860" y="80" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-17" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1140" y="417.5" as="sourcePoint" />
            <mxPoint x="-340" y="418" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-19" target="oGfr0wzXDb7d15qpLm4l-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-19" value="get message from queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-680" y="620" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-790" y="675" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-21" value="put message to queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-947.5" y="655" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-23" target="oGfr0wzXDb7d15qpLm4l-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-23" value="package IO to message" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-952.5" y="587.5" width="135" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-25" target="oGfr0wzXDb7d15qpLm4l-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-25" value="get IO from queue and handle IO" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-970" y="517.5" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-970" y="607.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-27" value="put into queue" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1140" y="587.5" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;exitX=0.456;exitY=0.983;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-30" target="oGfr0wzXDb7d15qpLm4l-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-740" y="630" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.462;exitY=0.016;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;exitPerimeter=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-30" target="oGfr0wzXDb7d15qpLm4l-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-30" value="messenger thread" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-780" y="560" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-32" target="oGfr0wzXDb7d15qpLm4l-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-32" value="open image" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1115" y="225" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-34" target="oGfr0wzXDb7d15qpLm4l-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-34" value="connect ceph" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1115" y="160" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=20;fontStyle=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-36" target="oGfr0wzXDb7d15qpLm4l-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-570" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-36" value="event get reply&lt;br style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;text-align: left; font-size: 20px;&quot;&gt;handle reply, callback&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-662.5" y="502.5" width="195" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-38" target="oGfr0wzXDb7d15qpLm4l-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-358" y="523" />
              <mxPoint x="-452" y="523" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-38" value="OSDs" style="rounded=0;whiteSpace=wrap;html=1;align=center;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-403" y="555" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" source="oGfr0wzXDb7d15qpLm4l-40" target="oGfr0wzXDb7d15qpLm4l-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-423" y="635" />
              <mxPoint x="-423" y="575" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-40" value="send message" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-540" y="620" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-41" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-430" y="760" as="sourcePoint" />
            <mxPoint x="-430" y="425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-42" value="Application" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-1070" y="65" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-43" value="Ceph Client" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-860" y="710" width="127" height="50" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-44" value="Ceph Server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" vertex="1">
          <mxGeometry x="-413" y="707.5" width="133" height="50" as="geometry" />
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-45" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-795" y="700" as="sourcePoint" />
            <mxPoint x="-795.4999999999998" y="425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oGfr0wzXDb7d15qpLm4l-46" value="" style="endArrow=none;dashed=1;html=1;rounded=0;fontSize=20;fontStyle=0;fontFamily=Times New Roman;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-970" y="700" as="sourcePoint" />
            <mxPoint x="-970" y="425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="PWL">
    <mxGraphModel dx="5438" dy="912" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-86" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3170" y="710" width="890" height="770" as="geometry" />
        </mxCell>
        <mxCell id="7iix_xWV6DJYJdKr2cIY-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="223.13" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7iix_xWV6DJYJdKr2cIY-10" value="&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&amp;nbsp;detain_guarded_request" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="7iix_xWV6DJYJdKr2cIY-4" vertex="1" connectable="0">
          <mxGeometry x="-0.1755" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="&amp;nbsp;AbstractWriteLog&amp;lt;I&amp;gt;::write()" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="143.13" y="150" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-0" target="5mb_2o-Lz0aX2MOy3_xr-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="223.13" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-0" value="&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;AbstractWriteLog&amp;lt;I&amp;gt;::&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;font-size: 12px;&quot;&gt;alloc_and_dispatch_io_req&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.13" y="270" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-2" target="5mb_2o-Lz0aX2MOy3_xr-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-2" value="&amp;nbsp;dispatch_here?" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="123.13" y="380" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-6" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="510" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="520" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-10" target="5mb_2o-Lz0aX2MOy3_xr-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-10" value="&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;WriteLog&amp;lt;I&amp;gt;::&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;font-size: 12px;&quot;&gt;schedule_append_ops(to_append);&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.13" y="1050" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-11" target="5mb_2o-Lz0aX2MOy3_xr-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-11" value="&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;AbstractWriteLog&amp;lt;I&amp;gt;::&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;font-size: 12px;&quot;&gt;schedule_append(ops)&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="125.63999999999999" y="940" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-39" target="5mb_2o-Lz0aX2MOy3_xr-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-39" target="TDcM7vROJk_BaecpFpCo-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="223" y="910" />
              <mxPoint x="-65" y="910" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-37" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-39" target="TDcM7vROJk_BaecpFpCo-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-12" target="TDcM7vROJk_BaecpFpCo-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-12" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;WriteLog&amp;lt;I&amp;gt;::setup_schedule_append(&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="75.63" y="700" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-13" target="5mb_2o-Lz0aX2MOy3_xr-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-13" value="&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;C_WriteRequest&amp;lt;T&amp;gt;::&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;font-size: 12px;&quot;&gt;schedule_append()&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.13" y="600" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-14" target="5mb_2o-Lz0aX2MOy3_xr-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_kxbQ1p28rxlMk5Iyy6V-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-14" target="5mb_2o-Lz0aX2MOy3_xr-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-14" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;C_WriteRequest&amp;lt;T&amp;gt;::&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;font-size: 12px;&quot;&gt;dispatch()&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.13" y="500" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-20" target="5mb_2o-Lz0aX2MOy3_xr-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" target="5mb_2o-Lz0aX2MOy3_xr-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="223" y="1360" as="sourcePoint" />
            <mxPoint x="-55" y="1400" as="targetPoint" />
            <Array as="points">
              <mxPoint x="223" y="1370" />
              <mxPoint x="-55" y="1370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-50" value="后执行" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="TDcM7vROJk_BaecpFpCo-4" vertex="1" connectable="0">
          <mxGeometry x="0.128" y="-3" relative="1" as="geometry">
            <mxPoint y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-20" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;need_finisher?&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="129.7" y="1270" width="186.87" height="90" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-29" value="设置log_entry index&lt;br style=&quot;font-size: 12px;&quot;&gt;相当于分配了log entry" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-150" y="1670" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-30" value="把m_ops_to_append的op拿出OPS_APPEND个数加入到ops中&lt;br style=&quot;font-size: 12px;&quot;&gt;ops.splice()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="1670" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-31" value="complete_op_log_entries(std::move(ops), append_result)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="450" y="1550" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-32" target="TDcM7vROJk_BaecpFpCo-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-32" value="append_op_log_entries(ops)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.14" y="1550" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-33" target="5mb_2o-Lz0aX2MOy3_xr-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-33" value="alloc_op_log_entries(ops)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-150" y="1550" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-34" target="5mb_2o-Lz0aX2MOy3_xr-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-34" value="append_scheduled(ops, ops_remain, appending, true)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="1540" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-35" target="5mb_2o-Lz0aX2MOy3_xr-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="223" y="1510" />
              <mxPoint x="-325" y="1510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" target="5mb_2o-Lz0aX2MOy3_xr-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="223" y="1470" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="223" y="1510" />
              <mxPoint x="-55" y="1510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-35" target="5mb_2o-Lz0aX2MOy3_xr-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-35" target="5mb_2o-Lz0aX2MOy3_xr-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-35" value="队列中执行&lt;br style=&quot;font-size: 12px;&quot;&gt;append_scheduled_ops()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.13" y="1410" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-36" target="5mb_2o-Lz0aX2MOy3_xr-81" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2635" y="250" />
              <mxPoint x="2635" y="250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-36" value="append_op_log_entries" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-45" target="5mb_2o-Lz0aX2MOy3_xr-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-45" value="construct_flush_entry" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="400" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-46" target="5mb_2o-Lz0aX2MOy3_xr-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-46" value="construct_flush_entry_ctx" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="280" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-47" target="5mb_2o-Lz0aX2MOy3_xr-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-47" value="process_writeback_dirty_entries" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3295" y="690" as="sourcePoint" />
            <mxPoint x="3533" y="761" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-111" value="loop next: is syncpoint op" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="5mb_2o-Lz0aX2MOy3_xr-61" vertex="1" connectable="0">
          <mxGeometry x="0.1231" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-50" value="op-&amp;gt;complete(result);" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3200" y="524" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-51" target="5mb_2o-Lz0aX2MOy3_xr-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-51" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;log_entry-&amp;gt;completed = true&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3438" y="762" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-52" target="5mb_2o-Lz0aX2MOy3_xr-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-52" value="log_entry-&amp;gt;completed = true" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3200" y="400" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-54" target="5mb_2o-Lz0aX2MOy3_xr-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-57" value="is_writing_op" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="5mb_2o-Lz0aX2MOy3_xr-56" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-54" value="complete_op_log_entries()&lt;br style=&quot;font-size: 12px;&quot;&gt;loop for()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3200" y="280" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-55" target="5mb_2o-Lz0aX2MOy3_xr-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-55" value="dispatch op&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3200" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-64" target="5mb_2o-Lz0aX2MOy3_xr-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-64" value="thread 1&lt;br style=&quot;font-size: 12px;&quot;&gt;dispatch op stage" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3235" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-65" target="5mb_2o-Lz0aX2MOy3_xr-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-65" value="clear_earlier_sync_point()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3438" y="1070" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-67" target="5mb_2o-Lz0aX2MOy3_xr-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-67" value="op-&amp;gt;complete(result);" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3438" y="990" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-70" target="5mb_2o-Lz0aX2MOy3_xr-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-70" value="thread 2&lt;br style=&quot;font-size: 12px;&quot;&gt;write back stage" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3745" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-71" target="5mb_2o-Lz0aX2MOy3_xr-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-71" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;ops的op增加到m_ops_to_append末尾&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="114.07" y="1160" width="218.13" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-72" value="op-&amp;gt;appending()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-150" y="1410" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-73" value="根据请求创建op_set" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="810" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_kxbQ1p28rxlMk5Iyy6V-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-74" target="5mb_2o-Lz0aX2MOy3_xr-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-74" value="经过判断决定&lt;br style=&quot;font-size: 12px;&quot;&gt;flush_new_sync_point" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="700" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_kxbQ1p28rxlMk5Iyy6V-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-75" target="5mb_2o-Lz0aX2MOy3_xr-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-75" value="setup_log_operations" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="600" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-76" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;bdev-&amp;gt;aio_write();&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; bdev-&amp;gt;aio_submit(&amp;amp;aio-&amp;gt;ioc);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="690" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-77" target="5mb_2o-Lz0aX2MOy3_xr-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-77" value="update_pool_root" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="590" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-78" target="5mb_2o-Lz0aX2MOy3_xr-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-78" target="5mb_2o-Lz0aX2MOy3_xr-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-78" value="update_root_scheduled_ops" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="490" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-79" target="5mb_2o-Lz0aX2MOy3_xr-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-79" value="enlist_op_update_root" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="390" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-80" target="5mb_2o-Lz0aX2MOy3_xr-81" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2865" y="260" />
              <mxPoint x="2635" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-80" value="retire_entries" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2770" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-81" target="5mb_2o-Lz0aX2MOy3_xr-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-81" value="schedule_update_root" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2540" y="290" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-85" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;sync_point-&amp;gt;log_entry-&amp;gt;next_sync_point_entry = nullptr;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3379" y="1150" width="308" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-87" value="ceph_assert(log_entry);" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="1360" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-88" target="5mb_2o-Lz0aX2MOy3_xr-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-112" value="pass a nullptr" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="5mb_2o-Lz0aX2MOy3_xr-106" vertex="1" connectable="0">
          <mxGeometry x="-0.1959" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-88" value="handled_by_next = handle_flushed_sync_point(log_entry-&amp;gt;next_sync_point_entry);" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3575" y="1230" width="460" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-89" target="5mb_2o-Lz0aX2MOy3_xr-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4035" y="980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-89" value="m_work_queue.queue" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="930" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-90" target="5mb_2o-Lz0aX2MOy3_xr-89" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3805" y="920" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-90" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;if ((log_entry-&amp;gt;writes_flushed == log_entry-&amp;gt;writes) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; log_entry-&amp;gt;completed &amp;amp;&amp;amp; log_entry-&amp;gt;prior_sync_point_flushed &amp;amp;&amp;amp;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; log_entry-&amp;gt;next_sync_point_entry)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3582.5" y="850" width="445" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-91" target="5mb_2o-Lz0aX2MOy3_xr-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4030" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-91" value="handle_flushed_sync_point" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="630" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="5mb_2o-Lz0aX2MOy3_xr-92" target="5mb_2o-Lz0aX2MOy3_xr-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-92" value="sync_point_writer_flushed" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3710" y="524" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-97" value="assert" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3915" y="1300" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-116" value="call back" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2560" y="240" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-118" value="SSD" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3508" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-123" value="SSD update root" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2670" y="30" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="5mb_2o-Lz0aX2MOy3_xr-124" value="一组update root的数据结构，只更新最后一个，但是要执行所有的root更新请求的回调函数" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2820" y="452.5" width="202" height="135" as="geometry" />
        </mxCell>
        <mxCell id="_kxbQ1p28rxlMk5Iyy6V-0" value="写请求从分发到落盘" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="133.13" y="10" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_kxbQ1p28rxlMk5Iyy6V-2" value="可能生成新的syncponit" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-610" y="670" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-0" value="执行一些complete操作" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="680" y="1410" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="520" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-17" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-21" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-22" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-23" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-25" target="5mb_2o-Lz0aX2MOy3_xr-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="575" y="1390" />
              <mxPoint x="223" y="1390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-25" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;flush_pmem_buffer(ops);&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; schedule_append_ops(ops);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="1285" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-26" target="TDcM7vROJk_BaecpFpCo-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-26" value="添加队列执行&lt;br style=&quot;font-size: 12px;&quot;&gt;flush_then_append_scheduled_ops" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="1160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-27" target="TDcM7vROJk_BaecpFpCo-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-27" value="enlist_op_flusher" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="1050" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-28" target="TDcM7vROJk_BaecpFpCo-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-28" value="m_ops_to_flush.splice()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="940" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-29" target="TDcM7vROJk_BaecpFpCo-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-29" value="schedule_flush_and_append(ops)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="810" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-30" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;flush_pmem_buffer(ops);&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; this-&amp;gt;schedule_append(ops);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-160" y="950" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-32" value="持久化entry&lt;br style=&quot;font-size: 12px;&quot;&gt;pmem_flush()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="128.14" y="1790" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TDcM7vROJk_BaecpFpCo-33" target="TDcM7vROJk_BaecpFpCo-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-33" value="flush_op_log_entries(entries_to_flush)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="117.52" y="1670" width="211.22" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-38" value="eraly flush" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-110" y="680" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-39" value="do_early_flush" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="172.81" y="800" width="100.63" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-44" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="190" y="880" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="520" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-52" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-53" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-54" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-56" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-57" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-59" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-60" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-61" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-62" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-63" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-64" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-65" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-66" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-67" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-68" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-69" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-70" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-71" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-72" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-73" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="150" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-74" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-75" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-76" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-77" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-78" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-79" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-80" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-81" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-82" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-83" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-84" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="550" y="160" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-85" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-86" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-87" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-88" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-89" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-90" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-91" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-92" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-93" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-94" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-95" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="560" y="170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-96" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-97" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-98" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="570" y="180" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-99" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-100" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-101" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="190" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-102" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-103" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="600" y="210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-104" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TDcM7vROJk_BaecpFpCo-105" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="600" y="210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-0" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-490" y="60" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-480" y="70" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-2" target="vjeUFCcuhLbC6XLOTqGw-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-2" value="needs_exclusive_lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="535" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-480" y="70" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-194" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-4" target="vjeUFCcuhLbC6XLOTqGw-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-4" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;cache::IMAGE_CACHE_TYPE_RWL:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;m_image_cache =&amp;nbsp;new librbd::cache::pwl::&lt;/font&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;rwl::WriteLog&amp;lt;I&amp;gt;()&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1560" y="617.5" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeWidth=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-6" target="q6VFu-scY58K2AxrR1_y-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-6" value="create_image_cache_state" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="520" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-10" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-480" y="70" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-12" target="q6VFu-scY58K2AxrR1_y-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-183" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-12" target="vjeUFCcuhLbC6XLOTqGw-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-12" value="bool ImageDispatch&amp;lt;I&amp;gt;::flush()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="435" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-160" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-14" target="q6VFu-scY58K2AxrR1_y-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-14" value="外部的请求,比如flush/write/discard" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="335" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-15" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-17" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-21" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeWidth=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-22" target="vjeUFCcuhLbC6XLOTqGw-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-22" value="void InitRequest&amp;lt;I&amp;gt;::send()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="320" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-23" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-24" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-25" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-26" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-27" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-29" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-30" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-31" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-32" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-33" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-460" y="90" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-34" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-35" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-36" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-37" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-38" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-39" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-40" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-41" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-42" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-43" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-44" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-450" y="100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-46" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-48" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-50" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-52" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-410" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-53" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-54" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-410" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-440" y="110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-56" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-57" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-430" y="120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-59" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-60" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-410" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-61" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-62" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-410" y="140" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-63" target="vjeUFCcuhLbC6XLOTqGw-126" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-63" value="void ImageState&amp;lt;I&amp;gt;::open()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="535" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-64" target="q6VFu-scY58K2AxrR1_y-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-64" value="int r = ictx -&amp;gt;state-&amp;gt;open(0)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="435" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="q6VFu-scY58K2AxrR1_y-65" target="q6VFu-scY58K2AxrR1_y-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="q6VFu-scY58K2AxrR1_y-65" value="extern &quot;C&quot; int rbd_open()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3100" y="335" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-0" target="q6VFu-scY58K2AxrR1_y-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-0" value="外部程序接口" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3050" y="255" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-1" target="vjeUFCcuhLbC6XLOTqGw-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-1" value="execute_next_action" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="635" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1420" y="3200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1420" y="3200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-6" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-10" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1420" y="3200" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-14" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-15" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-17" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-21" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-22" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-23" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410" y="3210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-24" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-25" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-26" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-27" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-29" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-30" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-31" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-32" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-33" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-34" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1400" y="3220" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-35" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-36" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-37" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-38" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-39" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-40" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-41" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-42" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1360" y="3260" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-43" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-44" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1360" y="3260" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1390" y="3230" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-46" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-48" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1380" y="3240" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1370" y="3250" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-50" value="succeed" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2010" y="3410" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-51" value="try to get other&#39;s exclusive lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1750" y="3400" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-52" target="vjeUFCcuhLbC6XLOTqGw-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-52" value="send_break_lock();" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1750" y="3290" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-53" target="vjeUFCcuhLbC6XLOTqGw-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-53" value="finish(0);" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2010" y="3290" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-54" target="vjeUFCcuhLbC6XLOTqGw-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-54" target="vjeUFCcuhLbC6XLOTqGw-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-54" value="AcquireRequest&amp;lt;I&amp;gt;::handle_lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1900" y="3170" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-55" target="vjeUFCcuhLbC6XLOTqGw-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-55" value="&lt;b&gt;AcquireRequest&amp;lt;I&amp;gt;::send_lock()&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1900" y="3070" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=18;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-56" target="vjeUFCcuhLbC6XLOTqGw-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-56" value="AcquireRequest&amp;lt;I&amp;gt;::handle_get_locker" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1920" y="2970" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-57" value="void GetLockerRequest&amp;lt;I&amp;gt;::send_get_lockers()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2255" y="3170" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-58" target="vjeUFCcuhLbC6XLOTqGw-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-58" value="&amp;nbsp;GetLockerRequest&amp;lt;I&amp;gt;::send()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2220" y="3070" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-59" target="vjeUFCcuhLbC6XLOTqGw-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1920" y="3000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-9" value="callback" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="vSDiTsFFqA8ZnA-pLVAO-8">
          <mxGeometry x="-0.3082" y="-2" relative="1" as="geometry">
            <mxPoint x="16" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-59" value="void AcquireRequest&amp;lt;I&amp;gt;::send_get_locker()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2245" y="2970" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-60" target="vjeUFCcuhLbC6XLOTqGw-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-60" value="void AcquireRequest&amp;lt;I&amp;gt;::send()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2220" y="2860" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-61" target="vjeUFCcuhLbC6XLOTqGw-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-61" value="C_SendLockRequest::request-&amp;gt;send();" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2240" y="2760" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-62" target="vjeUFCcuhLbC6XLOTqGw-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-62" value="AcquireRequest&amp;lt;I&amp;gt;* req = AcquireRequest&amp;lt;I&amp;gt;::create(" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2220" y="2660" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-63" target="vjeUFCcuhLbC6XLOTqGw-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-63" value="void ManagedLock&amp;lt;I&amp;gt;::handle_pre_acquire_lock(int r)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="2550" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-64" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1150" y="940" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-65" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1140" y="950" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-66" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-67" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1140" y="950" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-68" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-69" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-70" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-71" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-72" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-73" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-74" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-75" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1140" y="950" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-76" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-77" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-78" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-79" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-80" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-81" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-82" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-83" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1100" y="990" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-84" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-85" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1100" y="990" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-86" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-87" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-88" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-89" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1120" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-90" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1110" y="980" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-91" value="过程中会调用&lt;br&gt;void PreReleaseRequest&amp;lt;I&amp;gt;::send()&lt;br&gt;void PreReleaseRequest&amp;lt;I&amp;gt;::send_set_require_lock()&lt;br&gt;&lt;div&gt;&amp;nbsp;if (m_image_ctx.clone_copy_on_read ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; m_image_ctx.test_features(RBD_FEATURE_JOURNALING) ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; m_image_ctx.test_features(RBD_FEATURE_DIRTY_CACHE)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; m_image_dispatch-&amp;gt;set_require_lock(m_shutting_down,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;io::DIRECTION_BOTH, ctx);&lt;/div&gt;&lt;div&gt;&amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; m_image_dispatch-&amp;gt;set_require_lock(m_shutting_down,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;io::DIRECTION_WRITE, ctx);&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2010" y="795" width="350" height="218" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-92" value="SSD" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1130" y="1135" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-93" value="RWL" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="1130" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-198" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-94" target="vjeUFCcuhLbC6XLOTqGw-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-94" target="vjeUFCcuhLbC6XLOTqGw-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-94" value="initialize_pool" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="1020" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-95" target="vjeUFCcuhLbC6XLOTqGw-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-95" value="void AbstractWriteLog&amp;lt;I&amp;gt;::pwl_init()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1500" y="922.5" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-96" target="vjeUFCcuhLbC6XLOTqGw-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-96" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;void AbstractWriteLog&amp;lt;I&amp;gt;::init(Context&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;*on_finish)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1535" y="822.5" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;endArrow=classic;endFill=1;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-97" target="vjeUFCcuhLbC6XLOTqGw-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-97" value="m_image_cache-&amp;gt;init(ctx );" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="725" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;strokeWidth=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-98" target="q6VFu-scY58K2AxrR1_y-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-98" value="get_image_cache_state" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1490" y="420" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-99" value="handle_process_plugin_acquire_lock ()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1920" y="1535" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-189" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeWidth=2;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-100" target="q6VFu-scY58K2AxrR1_y-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1650" y="1985" />
              <mxPoint x="-1650" y="365" />
              <mxPoint x="-1490" y="365" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-100" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;cache::pwl::InitRequest&amp;lt;I&amp;gt; *req =&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;cache::pwl::InitRequest&amp;lt;I&amp;gt;::create();&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;req-&amp;gt;send();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2377.5" y="1955" width="395" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-182" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-101" target="vjeUFCcuhLbC6XLOTqGw-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-101" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;WriteLogImageCache&amp;lt;I&amp;gt;::Hook Points::acquired&lt;span style=&quot;font-size: 12px;&quot;&gt;_exclusive_lock ()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2362.5" y="1845" width="365" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-102" target="vjeUFCcuhLbC6XLOTqGw-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-186" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-102" target="vjeUFCcuhLbC6XLOTqGw-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-102" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;for hook : m_plugin_hook _points&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;hook-&amp;gt;acquired_exclusive_lock (ctx );&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2317.5" y="1739" width="275" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-180" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-103" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2180" y="1735" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-103" value="PluginRegistry&amp;lt;I&amp;gt;::acquired_exclusive_lock ()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2307.5" y="1635" width="255" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-179" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-104" target="vjeUFCcuhLbC6XLOTqGw-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-187" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;dashed=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-104" target="vjeUFCcuhLbC6XLOTqGw-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-188" value="回调" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="vjeUFCcuhLbC6XLOTqGw-187" vertex="1" connectable="0">
          <mxGeometry x="0.1719" y="1" relative="1" as="geometry">
            <mxPoint x="-7" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-104" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;m_image_ctx .plugin_registry-&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;gt;acquired_exclusive_lock (ctx );&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2357.5" y="1535" width="355" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-178" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-105" target="vjeUFCcuhLbC6XLOTqGw-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-105" value="send_process_plugin_acquire_lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="1435" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-177" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-106" target="vjeUFCcuhLbC6XLOTqGw-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-106" value="省略" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="1335" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-107" target="vjeUFCcuhLbC6XLOTqGw-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-107" value="req-&amp;gt;send()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="1235" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-108" target="vjeUFCcuhLbC6XLOTqGw-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-108" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;PostAcquireRequest&amp;lt;I&amp;gt; *req =&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;PostAcquireRequest&amp;lt;I&amp;gt;::create()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2362.5" y="1135" width="365" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-109" target="vjeUFCcuhLbC6XLOTqGw-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-109" value="ExclusiveLock &amp;lt;I&amp;gt;::post_acquire_lock _handler()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2312.5" y="1035" width="265" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-110" target="vjeUFCcuhLbC6XLOTqGw-109" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-110" value="void ManagedLock &amp;lt;I&amp;gt;::handle_acquire_lock ()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2327.5" y="935" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-171" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-111" target="vjeUFCcuhLbC6XLOTqGw-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-111" value="handle_pre_acquire_lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="835" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-170" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-112" target="vjeUFCcuhLbC6XLOTqGw-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-112" value="send_acquire_lock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2275" y="735" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-113" value="判断结果后继续执行request" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2695" y="1335" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-114" target="vjeUFCcuhLbC6XLOTqGw-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-114" value="handle_init_plugin_registry" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2695" y="1235" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-115" target="vjeUFCcuhLbC6XLOTqGw-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2775" y="1215" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2755" y="1765" />
              <mxPoint x="-2755" y="1265" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-115" value="on_finish-&amp;gt;complete(0)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="1735" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-116" target="vjeUFCcuhLbC6XLOTqGw-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endArrow=none;endFill=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;dashed=1;strokeWidth=2;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-116" target="vjeUFCcuhLbC6XLOTqGw-102" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2420" y="1685.0000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-116" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;hook_points_list.emplace_back (std::move(hook _&lt;span style=&quot;font-size: 12px;&quot;&gt;points));&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3130" y="1635" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-117" target="vjeUFCcuhLbC6XLOTqGw-116" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-117" value="void WriteLogImageCache&amp;lt;I&amp;gt;::init()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3080" y="1535" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-118" target="vjeUFCcuhLbC6XLOTqGw-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-118" value="plugin-&amp;gt;init();" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="1435" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-119" target="vjeUFCcuhLbC6XLOTqGw-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-119" value="void PluginRegistry&amp;lt;I&amp;gt;::init()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="1335" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-120" target="vjeUFCcuhLbC6XLOTqGw-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;endArrow=none;endFill=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-120" target="vjeUFCcuhLbC6XLOTqGw-114" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-151" value="等待回调" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="vjeUFCcuhLbC6XLOTqGw-148" vertex="1" connectable="0">
          <mxGeometry x="-0.2444" y="-1" relative="1" as="geometry">
            <mxPoint x="-14" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-120" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;m_image_ctx -&amp;gt;plugin_registry-&amp;gt;init(plugins,&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;ctx );&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3115" y="1235" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-140" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-121" target="vjeUFCcuhLbC6XLOTqGw-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-121" target="vjeUFCcuhLbC6XLOTqGw-120" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-121" value="send_init_plugin_registry()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="1135" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-122" target="vjeUFCcuhLbC6XLOTqGw-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-122" value="在OpenRequest中顺序执行一系列操作,直到注册插件" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3120" y="1035" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-135" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-123" target="vjeUFCcuhLbC6XLOTqGw-134" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2825" y="952" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-138" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-123" target="vjeUFCcuhLbC6XLOTqGw-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-123" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;image::OpenRequest&amp;lt;I&amp;gt;::create()&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;req-&amp;gt;send();&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="935" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-137" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-124" target="vjeUFCcuhLbC6XLOTqGw-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-124" value="send_open_unlock" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3065" y="835" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-133" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-125" target="vjeUFCcuhLbC6XLOTqGw-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-136" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-125" target="vjeUFCcuhLbC6XLOTqGw-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-125" value="void ImageState&amp;lt;I&amp;gt;::execute_next_action_unlock()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3115" y="735" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-126" target="vjeUFCcuhLbC6XLOTqGw-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-126" value="void ImageState&amp;lt;I&amp;gt;::execute_action_unlock()" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3115" y="635" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-132" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;这个函数是个操作集,会根据&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;ACTION_TYPE执行对应的操&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;作, open/close/refresh/&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;set_snap/prepare等都在这里&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;发送请求&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2805" y="687.5" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-134" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;Ceph中的请求都以这种方式执&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;行,send之后在对应的类中,找&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;到send方法,这里是找到&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;OpenRequest里的send&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2840" y="885" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-139" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;这里开始是注册插件的步骤,这个&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;函数中会rbd_plugins的类型,如&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;果是pwl,则注册为pwl插件,并&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;进行初始化&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2815" y="1070" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-159" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=classic;endFill=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="vjeUFCcuhLbC6XLOTqGw-152" target="q6VFu-scY58K2AxrR1_y-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-152" value="外部命令" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2260" y="255" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-153" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;使用fio进行测试的时候,open&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;之后的第一个请求是flush&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1997.5" y="385" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-154" value="open image的流程" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-3080" y="100" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-158" value="读写和flush的流程，以flush为例" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2295" y="80" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-184" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;这里是一个循环,有很多的hook point,意味&lt;span style=&quot;font-size: 12px;&quot;&gt;着可以有很多插件,其他插件也可以通过这种&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;方法陷入,但是目前只有pwl插件可以陷入&lt;/span&gt;&lt;/div&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1960" y="1640" width="190" height="172.5" as="geometry" />
        </mxCell>
        <mxCell id="vjeUFCcuhLbC6XLOTqGw-190" value="PWL内部流程" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1500" y="70" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="Sf3hM6H7GHPTVNs1SCmV-0" value="中间经过&lt;br&gt;ExclusiveLock&amp;lt;I&amp;gt;::init()进行判断is_pwl_enabled(), 进入插件后，创建cache_state会再次进行判断" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1985" y="600" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-0" value="这里不太对，下面的函数是上一个函数的回调，到回调时，已经拿到了exclusive lock" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-2450" y="900" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-1" value="如何获取exclusive lock" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-2250" y="2370" width="230" height="135" as="geometry" />
        </mxCell>
        <mxCell id="vSDiTsFFqA8ZnA-pLVAO-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;try get lock&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-1665" y="3085" width="105" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BiGC5ZwQ5-_0eEG2Jqlq" name="IO Layer-Image-Object">
    <mxGraphModel dx="2062" dy="1121" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Ng0JJsu_giefG4wQzPvK-1" value="open(image)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-2" target="Ng0JJsu_giefG4wQzPvK-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-2" value="注册plugin" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-3" target="Ng0JJsu_giefG4wQzPvK-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-3" value="请求下发" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-4" target="Ng0JJsu_giefG4wQzPvK-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-4" value="image各层的初始化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-5" target="Ng0JJsu_giefG4wQzPvK-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-5" value="write请求下发" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-6" target="Ng0JJsu_giefG4wQzPvK-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-6" value="LBA类型的请求下发" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-7" target="Ng0JJsu_giefG4wQzPvK-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-7" value="PWL cache" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-9" target="Ng0JJsu_giefG4wQzPvK-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-9" value="write back" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-10" value="ObjectCacherObjectDispatch&amp;lt;I&amp;gt;::write()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="375" y="950" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-11" target="Ng0JJsu_giefG4wQzPvK-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-11" value="省略很多" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-12" target="Ng0JJsu_giefG4wQzPvK-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-12" value="AbstractImageWriteRequest&amp;lt;I&amp;gt;::send_object_requests()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="345" y="730" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-13" target="Ng0JJsu_giefG4wQzPvK-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-13" value="构造object" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-14" target="Ng0JJsu_giefG4wQzPvK-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-14" value="AbstractImageWriteRequest&amp;lt;I&amp;gt;::send_request()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="365" y="510" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ng0JJsu_giefG4wQzPvK-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ng0JJsu_giefG4wQzPvK-1" target="Ng0JJsu_giefG4wQzPvK-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="300" as="sourcePoint" />
            <mxPoint x="440" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
